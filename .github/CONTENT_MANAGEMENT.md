# Unicorn Sport - Content Management

## ðŸ“¹ Overview

This document describes how content flows through the Unicorn Sport platform. The key principle is: **we store and serve content as-is with no transformation**.

---

## ðŸŽ¬ Content Types

### 1. Full Match Recordings (PAID - The Premium Product!)

| Attribute | Value |
|-----------|-------|
| **Source** | Academy's professional cameras |
| **Format** | MP4 (H.264/H.265) |
| **Resolution** | 1080p or 4K |
| **Duration** | 60-90 minutes |
| **File Size** | 5-20 GB |
| **Contains** | Multiple players, full game |
| **Access Level** | **PAID subscribers only** |
| **Value** | Shows REAL performance in full context |

> ðŸ’¡ Full matches are the premium product. Scouts pay to see how players 
> REALLY perform over 90 minutes, not just flashy highlight moments.

### 2. Player Highlights (FREE - Lead Generation)

| Attribute | Value |
|-----------|-------|
| **Source** | Extracted by media team from full matches |
| **Format** | MP4 (H.264) |
| **Resolution** | 1080p |
| **Duration** | 1-5 minutes |
| **File Size** | 50-500 MB |
| **Contains** | Single player focus |
| **Access Level** | **FREE for everyone** |
| **Purpose** | Attract scouts to subscribe |

> âš ï¸ **WARNING**: Highlights can be DECEPTIVE! They show only the best moments.
> A player might look amazing in a 2-minute clip but was playing against weak 
> opposition. Scouts need full matches to verify real quality.

### 3. Thumbnails / Preview Images

| Attribute | Value |
|-----------|-------|
| **Source** | Generated by media team |
| **Format** | JPEG/WebP |
| **Resolution** | 640x360, 1280x720 |
| **File Size** | 50-200 KB |
| **Access Level** | Public (visible to all) |

### 4. Verification Documents

| Attribute | Value |
|-----------|-------|
| **Types** | NIN, Passport, Birth certificate |
| **Format** | PDF, JPEG, PNG |
| **Access Level** | Admin only (never public) |

---

## ðŸ“‚ Storage Structure

### AWS S3 Organization

```
unicornsport-media/
â”‚
â”œâ”€â”€ matches/
â”‚   â””â”€â”€ {year}/
â”‚       â””â”€â”€ {month}/
â”‚           â””â”€â”€ {match_id}/
â”‚               â”œâ”€â”€ full_match.mp4           # Original full recording
â”‚               â”œâ”€â”€ thumbnail.jpg            # Match thumbnail
â”‚               â””â”€â”€ metadata.json            # Match info
â”‚
â”œâ”€â”€ highlights/
â”‚   â””â”€â”€ {player_id}/
â”‚       â””â”€â”€ {highlight_id}/
â”‚           â”œâ”€â”€ video.mp4                    # Highlight clip (as provided)
â”‚           â”œâ”€â”€ thumbnail.jpg                # Thumbnail
â”‚           â””â”€â”€ metadata.json                # Clip info
â”‚
â”œâ”€â”€ profiles/
â”‚   â””â”€â”€ {player_id}/
â”‚       â”œâ”€â”€ avatar.jpg                       # Profile photo
â”‚       â””â”€â”€ photos/
â”‚           â””â”€â”€ action_{n}.jpg               # Action shots
â”‚
â”œâ”€â”€ documents/                               # PRIVATE BUCKET
â”‚   â””â”€â”€ {player_id}/
â”‚       â”œâ”€â”€ birth_certificate.pdf
â”‚       â”œâ”€â”€ school_id.jpg
â”‚       â””â”€â”€ verification_history.json
â”‚
â””â”€â”€ temp/                                    # Temporary upload staging
    â””â”€â”€ {upload_session_id}/
        â””â”€â”€ chunked_uploads/
```

---

## ðŸ”„ Content Upload Flow

### Admin/Media Team Upload Process

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       CONTENT UPLOAD WORKFLOW                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 1: Media Team Prepares Content
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  After a talent day/match:                                                   â”‚
â”‚  â€¢ Full match video is exported from camera                                 â”‚
â”‚  â€¢ Media team reviews footage                                               â”‚
â”‚  â€¢ Individual player highlights are extracted                               â”‚
â”‚  â€¢ Thumbnails are generated                                                  â”‚
â”‚  â€¢ Metadata spreadsheet is prepared                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
Step 2: Bulk Upload via Admin Portal
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Media team uses admin portal:                                               â”‚
â”‚  â€¢ Selects match/event                                                       â”‚
â”‚  â€¢ Uploads full match video                                                 â”‚
â”‚  â€¢ Uploads individual highlights                                            â”‚
â”‚  â€¢ Links highlights to player profiles                                      â”‚
â”‚  â€¢ Adds metadata (duration, tags, match date)                               â”‚
â”‚                                                                              â”‚
â”‚  Large file handling:                                                        â”‚
â”‚  â€¢ Multipart/chunked upload for large files                                 â”‚
â”‚  â€¢ Resume capability for interrupted uploads                                â”‚
â”‚  â€¢ Direct-to-S3 upload (presigned URLs)                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
Step 3: Content Stored As-Is
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  NO TRANSFORMATION:                                                          â”‚
â”‚  â€¢ Files stored exactly as uploaded                                         â”‚
â”‚  â€¢ No transcoding                                                            â”‚
â”‚  â€¢ No resolution changes                                                     â”‚
â”‚  â€¢ No watermarking (could be added later if needed)                         â”‚
â”‚                                                                              â”‚
â”‚  WHY: Media team provides production-ready content                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
Step 4: Metadata Saved to Database
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Content record created:                                                     â”‚
â”‚  â€¢ Reference to S3/Blob URL                                                 â”‚
â”‚  â€¢ Player associations                                                       â”‚
â”‚  â€¢ Match/event association                                                   â”‚
â”‚  â€¢ Duration, file size                                                       â”‚
â”‚  â€¢ Upload timestamp                                                          â”‚
â”‚  â€¢ Uploaded by (admin user)                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
Step 5: Content Available
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Content immediately available to:                                           â”‚
â”‚  â€¢ Admins (always)                                                          â”‚
â”‚  â€¢ Paid subscribers (based on tier)                                         â”‚
â”‚  â€¢ Free users see thumbnail only                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸŽ¥ Content Delivery

### Video Streaming

Since we don't transform videos, delivery is straightforward:

```
Scout requests video â†’ Check subscription â†’ Generate signed URL â†’ Direct S3/Blob stream
```

### Signed URL Strategy

```go
// Generate time-limited signed URL for video access
func GetVideoStreamURL(videoID string, userID string) (string, error) {
    // 1. Check user has active subscription
    if !hasActiveSubscription(userID) {
        return "", ErrSubscriptionRequired
    }
    
    // 2. Check subscription tier allows this content
    if !canAccessContent(userID, videoID) {
        return "", ErrUpgradeRequired
    }
    
    // 3. Generate signed URL (expires in 4 hours)
    signedURL := s3.GeneratePresignedURL(
        bucket: "unicornsport-media",
        key: getVideoPath(videoID),
        expiry: 4 * time.Hour,
    )
    
    // 4. Log access for analytics
    logVideoAccess(userID, videoID)
    
    return signedURL, nil
}
```

### CDN Configuration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CONTENT DELIVERY NETWORK                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                              Scout Request
                                    â”‚
                                    â–¼
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚   CloudFront     â”‚
                         â”‚                  â”‚
                         â”‚ â€¢ Edge caching   â”‚
                         â”‚ â€¢ Geographic     â”‚
                         â”‚   distribution   â”‚
                         â”‚ â€¢ HTTPS          â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                           â”‚
            Cache HIT                    Cache MISS
                    â”‚                           â”‚
                    â–¼                           â–¼
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚    Edge      â”‚            â”‚   Origin     â”‚
           â”‚   Server     â”‚            â”‚   (AWS S3)   â”‚
           â”‚              â”‚            â”‚              â”‚
           â”‚ â€¢ Nearest to â”‚            â”‚ â€¢ Primary    â”‚
           â”‚   user       â”‚            â”‚   storage    â”‚
           â”‚ â€¢ Cached     â”‚            â”‚              â”‚
           â”‚   content    â”‚            â”‚              â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“Š Data Model: Content

### matches

Stores full match recordings.

```sql
CREATE TABLE matches (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    
    -- Match info
    title VARCHAR(200) NOT NULL,
    description TEXT,
    match_date DATE NOT NULL,
    location VARCHAR(200),
    event_name VARCHAR(200),           -- e.g., "Talent Day March 2026"
    
    -- Video info
    video_url TEXT NOT NULL,           -- S3/Blob URL
    thumbnail_url TEXT,
    duration_seconds INTEGER,
    file_size_bytes BIGINT,
    
    -- Metadata
    status VARCHAR(20) DEFAULT 'active',
    uploaded_by UUID REFERENCES users(id),
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW(),
    
    CONSTRAINT status_check CHECK (status IN ('active', 'archived', 'deleted'))
);

CREATE INDEX idx_matches_date ON matches(match_date DESC);
CREATE INDEX idx_matches_event ON matches(event_name);
```

### highlights

Stores individual player highlight clips.

```sql
CREATE TABLE highlights (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    
    -- Associations
    player_id UUID NOT NULL REFERENCES profiles(id),
    match_id UUID REFERENCES matches(id),      -- Optional link to source match
    
    -- Video info
    title VARCHAR(200) NOT NULL,
    description TEXT,
    video_url TEXT NOT NULL,           -- S3/Blob URL (as uploaded)
    thumbnail_url TEXT,
    duration_seconds INTEGER,
    file_size_bytes BIGINT,
    
    -- Content metadata
    tags TEXT[],                       -- ['dribbling', 'goals', 'assists']
    position_featured VARCHAR(50),     -- Position shown in highlight
    
    -- Access control
    access_tier VARCHAR(20) DEFAULT 'basic',  -- 'basic', 'pro', 'club'
    is_featured BOOLEAN DEFAULT FALSE,
    
    -- Tracking
    view_count INTEGER DEFAULT 0,
    uploaded_by UUID REFERENCES users(id),
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW(),
    
    CONSTRAINT access_tier_check CHECK (access_tier IN ('basic', 'pro', 'club'))
);

CREATE INDEX idx_highlights_player ON highlights(player_id);
CREATE INDEX idx_highlights_match ON highlights(match_id);
CREATE INDEX idx_highlights_tags ON highlights USING gin(tags);
CREATE INDEX idx_highlights_featured ON highlights(is_featured) WHERE is_featured = TRUE;
```

### match_players

Links players to matches they participated in.

```sql
CREATE TABLE match_players (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    match_id UUID NOT NULL REFERENCES matches(id) ON DELETE CASCADE,
    player_id UUID NOT NULL REFERENCES profiles(id) ON DELETE CASCADE,
    
    -- Performance data (optional)
    position_played VARCHAR(50),
    minutes_played INTEGER,
    goals INTEGER DEFAULT 0,
    assists INTEGER DEFAULT 0,
    notes TEXT,
    
    created_at TIMESTAMP DEFAULT NOW(),
    
    UNIQUE(match_id, player_id)
);

CREATE INDEX idx_match_players_match ON match_players(match_id);
CREATE INDEX idx_match_players_player ON match_players(player_id);
```

### video_views

Track video access for analytics.

```sql
CREATE TABLE video_views (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    
    -- What was viewed
    content_type VARCHAR(20) NOT NULL,  -- 'match' or 'highlight'
    content_id UUID NOT NULL,
    player_id UUID REFERENCES profiles(id),  -- If highlight, which player
    
    -- Who viewed
    viewer_id UUID NOT NULL REFERENCES users(id),
    viewer_organization VARCHAR(200),
    
    -- View details
    watched_seconds INTEGER,            -- How much they watched
    completed BOOLEAN DEFAULT FALSE,    -- Watched to end
    
    -- Tracking
    ip_address INET,
    user_agent TEXT,
    created_at TIMESTAMP DEFAULT NOW(),
    
    CONSTRAINT content_type_check CHECK (content_type IN ('match', 'highlight'))
);

CREATE INDEX idx_views_content ON video_views(content_type, content_id);
CREATE INDEX idx_views_player ON video_views(player_id);
CREATE INDEX idx_views_viewer ON video_views(viewer_id);
CREATE INDEX idx_views_date ON video_views(created_at);
```

---

## ðŸ” Access Control

### Content Access by Subscription Tier

| Content Type | Free | Scout ($99) | Pro ($299) | Club ($999) |
|--------------|------|-------------|------------|-------------|
| Profile (basic info) | âœ… | âœ… | âœ… | âœ… |
| Thumbnails | âœ… | âœ… | âœ… | âœ… |
| **Highlight videos** | âœ… FREE | âœ… | âœ… | âœ… |
| **Full match videos** | âŒ | âœ… | âœ… | âœ… |
| Full player profiles | âŒ | âœ… | âœ… | âœ… |
| Analytics | âŒ | Basic | âœ… Full | âœ… Full |
| Contact player | âŒ | âŒ | âœ… | âœ… |
| Download reports | âŒ | âŒ | âœ… | âœ… |
| API access | âŒ | âŒ | âŒ | âœ… |
| Multiple seats | âŒ | âŒ | âŒ | âœ… 5 seats |

> ðŸ’¡ **Key Insight**: Highlights are FREE to attract scouts. Full matches are 
> PAID because they show the REAL performance that scouts need to verify quality.

### Access Check Logic

```go
// Highlights are FREE for everyone
func CanAccessHighlight(user *User, highlight *Highlight) bool {
    return true  // Highlights are free to attract scouts
}

// Full matches require paid subscription
func CanAccessFullMatch(user *User, match *Match) bool {
    sub := user.Subscription
    
    // No subscription = no full matches
    if sub == nil || !sub.IsActive() {
        return false
    }
    
    // Any paid tier can watch full matches
    return sub.Tier >= TierScout
}
    
    // Check tier
    switch sub.Tier {
    case "basic":
        // Check monthly view limit
        viewsThisMonth := countViewsThisMonth(user.ID)
        return viewsThisMonth < 10
        
    case "pro", "club":
        return true
        
    default:
        return false
    }
}

func CanAccessFullMatch(user *User) bool {
    sub := user.Subscription
    if sub == nil || !sub.IsActive() {
        return false
    }
    return sub.Tier == "pro" || sub.Tier == "club"
}
```

---

## ðŸ“¤ Admin Upload API

### Upload Full Match

```http
POST /api/v1/admin/matches
Authorization: Bearer <admin_token>
Content-Type: application/json

{
    "title": "Talent Day - March 2026 - Match 1",
    "match_date": "2026-03-15",
    "location": "Lagos Academy Ground",
    "event_name": "Talent Day March 2026",
    "player_ids": ["uuid1", "uuid2", "uuid3"]
}
```

**Response:**
```json
{
    "match_id": "match-uuid",
    "upload_url": "https://s3.amazonaws.com/...presigned...",
    "upload_id": "multipart-upload-id"
}
```

### Upload Player Highlight

```http
POST /api/v1/admin/highlights
Authorization: Bearer <admin_token>
Content-Type: application/json

{
    "player_id": "player-uuid",
    "match_id": "match-uuid",  // optional
    "title": "Goal and assist vs Academy B",
    "tags": ["goals", "assists", "midfielder"],
    "access_tier": "basic"
}
```

**Response:**
```json
{
    "highlight_id": "highlight-uuid",
    "upload_url": "https://s3.amazonaws.com/...presigned...",
    "thumbnail_upload_url": "https://s3.amazonaws.com/...presigned..."
}
```

### Complete Upload

```http
POST /api/v1/admin/uploads/:id/complete
Authorization: Bearer <admin_token>
Content-Type: application/json

{
    "duration_seconds": 180,
    "file_size_bytes": 256000000
}
```

---

## ðŸ“ˆ Analytics

### Video Performance Dashboard

Track for each piece of content:
- Total views
- Unique viewers
- Average watch time
- Completion rate
- Viewer organizations (which clubs are interested)

### Player Interest Tracking

When a scout watches a player's highlight:
- Log the view
- Track watch duration
- Note if they contacted the player after
- Build "hot prospects" list based on scout interest

```sql
-- Find most-watched players this month
SELECT 
    p.id,
    p.display_name,
    COUNT(DISTINCT vv.viewer_id) as unique_viewers,
    COUNT(*) as total_views,
    AVG(vv.watched_seconds) as avg_watch_time
FROM profiles p
JOIN highlights h ON h.player_id = p.id
JOIN video_views vv ON vv.content_id = h.id
WHERE vv.created_at > NOW() - INTERVAL '30 days'
GROUP BY p.id
ORDER BY unique_viewers DESC
LIMIT 20;
```
